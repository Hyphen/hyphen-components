import { Canvas, Meta, ArgTypes } from '@storybook/blocks';
import { SelectInput } from './SelectInput';
import * as Stories from './SelectInput.stories';

<Meta of={Stories} />

# SelectInput

Allows users to pick a value from a predefined list of options. Ideally, it should be used when there are 5 or more options, otherwise you should consider using a radio group instead.

_NOTE:_ This component is build on top of `react-select` and as such you can use any available prop from that component here as well. For a full list
of react-select props, [Click Here](https://react-select.com/props).

## Props

<ArgTypes of={SelectInput} />

## Default

All that is required to render a basic version of the SelectInput is a unique `id`, a `label`, a list of options passed to the `options` prop, a `value`, and an onchange event handler passed to the `onChange` prop.

<Canvas of={Stories.Default} />

## Pre-Selected

Pre-select an option by passing its value to the `value` prop.

<Canvas of={Stories.PreSelected} />

## Help Text

Use the `helpText` prop to add clarifying text beneath the input label.

<Canvas of={Stories.HelpText} />

## Placeholder

Use the `placeholder` prop to add a custom placeholder.

<Canvas of={Stories.Placeholder} />

## Hidden Label

Use the `hideLabel` prop to not render the label.

<Canvas of={Stories.HiddenLabel} />

## Creatable Select

Use the `isCreatable` prop to allow the creation of new options.

<Canvas of={Stories.CreatableSelect} />

## Multi-Select

Use the `isMulti` prop to allow the selection of multiple options.

<Canvas of={Stories.MultiSelect} />

## Multi-Select and Pre-Selected

Use the `isMulti` prop combined with passing one or more options in an array to the `value` prop to pre-select option(s).

<Canvas of={Stories.MultiSelectAndPreSelected} />

## Multi-Select Creatable

Use the `isMulti` and `isCreatable` props to allow the selection of multiple options and the creation of new options.

<Canvas of={Stories.MultiSelectCreatable} />

## Autofocus

Use the `autoFocus` prop to autofocus a SelectInput.

<Canvas of={Stories.Autofocus} />

## Required

Use the `isRequired` prop to mark the input as required.

<Canvas of={Stories.Required} />

## Disabled

Use the `isDisabled` prop to mark the input as disabled.

<Canvas of={Stories.Disabled} />

## Clearable

Use the `isClearable` prop to allow clearing of the input selected option. NOTE: this works by passing `null`
to the `onChange` handler.

<Canvas of={Stories.Clearable} />

## Error

Use the `error` prop to mark the input as invalid. `error` accepts a `boolean`, `string`, or `node`. If either a `string` or `node` is passed, a validation message is displayed below it.

<Canvas of={Stories.Error} />

## Sizes

Set the size of the input to `sm`, `md` or `lg`. `md` is the default size.
The `size` prop is also a `ResponsiveProp`, so it can be sized differently at each [breakpoint](?path=/docs/design-tokens-design-tokens--page#breakpoints) by passing an object.

<Canvas of={Stories.Sizes} />

## With Portal

In many cases it is helpful to render the select dropdown in a portal to avoid cutoff from a smaller container.
We maintain the react-select API here where the `menuPortalTarget` prop is used. This is a ref to the element
being portaled to. In the example below we would see our dropdown menu be cutoff by the storybook story container,
if we did not portal it to the body element.

<Canvas of={Stories.WithPortal} />

## Custom Classes

Use the `className` prop to add a custom class, or classes to an input.

<Canvas of={Stories.CustomClasses} />

## Component Design Tokens

This component shares component design tokens with all form controls. For a complete list of tokens, see the [Theming Form Controls documentation](/docs/theming-form-controls--custom-theme-form).
