import { Meta, Canvas, ArgsTable } from '@storybook/addon-docs';
import { Modal } from './Modal';
import * as Stories from './Modal.stories';

<Meta of={Stories} />

# Modal

Modals are containers appearing in front of the main content to provide critical information or an actionable piece of content.
These are specifically great for presenting new flows while preserving the state of content.

The default behavior of a Modal is to focus on the first focusable item.
Therefore, you should ensure that the first focusable item is non-destructive, such as a "cancel" or close button.

Modal consists of three child components that are automatically included with the `<Modal />`:

1. `<Modal.Header />` - a standard header of a Modal, which may contain a title for the Modal's contents and a close button
1. `<Modal.Body />` - for the body of the Modal
1. `<Modal.Footer />` - a place for primary actions for the Modals's contents

## Basic Usage

In order to hide or show the Modal, set the Modal's `isOpen` prop to `true` or `false`.

<Canvas of={Stories.BasicUsage} />

## Props

<ArgsTable of={Modal} />

## Body and Footer

Use the `Modal.Body` and `Modal.Footer` to add body and footer content. These components simply wrap your content in consistent padding, otherwise you can pass whatever you want as content.

<Canvas of={Stories.BodyAndFooter} />

## Close button

Set the `onDismiss` prop on the `Modal.Header` to true to automatically add a close button.

<Canvas of={Stories.CloseButton} />
## Without a Header

Omit `<Modal.Header/>` to render a minimal modal without a header.

<Canvas of={Stories.WithoutHeader} />

## Fullscreen on mobile

Use `fullScreenMobile` to enable fullscreen at mobile viewport widths.

<Canvas of={Stories.FullscreenMobile} />

## Max Width

Use the `maxWidth` prop for modals that have minimal content or form fields that may not look right at a larger width.
As with the `Box` component, this can be set to a specific pixel value, or any of the existing width tokens. For responsive
maxWidth, use existing tokens only.

<Canvas of={Stories.MaxWidth} />

## Component Design Tokens

<table>
  <thead>
    <tr>
      <th>token name</th>
      <th>default value</th>
    </tr>
  </thead>
  <tbody>
    {(() => {
      const tokens = {
        '--modal-background-color': '--color-brand-white-500',
        '--modal-border-radius': '--size-border-radius-md',
        '--modal-box-shadow': '--size-box-shadow-md',
        '--modal-close-button-color': '--color-brand-grey-500',
        '--modal-close-button-color-hover': '--color-brand-grey-600',
        '--modal-close-button-box-shadow-focus': '--color-brand-grey-200',
        '--modal-border-separator-color': '--color-brand-grey-100',
      };
      return Object.entries(tokens).map(([name, entry], i) => (
        <tr key={i}>
          <td>
            <code>{name}</code>
          </td>
          <td>
            <code>{entry}</code>
          </td>
        </tr>
      ));
    })()}
  </tbody>
</table>
