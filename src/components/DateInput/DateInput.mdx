import { Canvas, Meta, ArgTypes } from '@storybook/blocks';
import { DateInput } from './DateInput';
import * as Stories from './DateInput.stories';

<Meta of={Stories} />

# DateInput

Use a DateInput to allow users to select a date close to today and place that date in an input field.
Avoid using this component if the user needs to enter a date that is many years in the past (i.e. birthday) or future.
For entering these types of dates we recommend using the `TextInput` component with a `date` mask. See an example here:
[TextInput Date Example](?path=/docs/components-textinput-overview--with-date-mask)

<Canvas isExpanded of={Stories.Basic} />

## Props

<ArgTypes of={DateInput} />

## Default

The DateInput is composed of 3 components. Each can be tailored based on their props. They are:

1. [DatePicker](?path=/docs/components-datepicker-overview--basic-example)
2. [Popover](?path=/docs/components-popover-overview--demo)
3. [TextInput](?path=/docs/components-textinput-overview--default-story)

The `DateInput` uses sensible defaults for these to allow for very straightforward ergonomics that allow users to
select dates with minimal work.

<Canvas of={Stories.Default} />

## Date Range

<Canvas of={Stories.DateRange} />

## With Min/Max dates

<Canvas of={Stories.WithMinAndMaxDates} />

## Custom Date Format

You can manipulate the format on the input field by using the `dateFormat` and `dateOptions`
props. Under the hood our component uses the [date-fns `format` function](https://date-fns.org/v2.16.1/docs/format)
to generate a string based on these options.

<Canvas of={Stories.CustomDateFormat} />

## On using onBlur event with DateInput

The input is technically blurred whenever the calendar popover is interacted but as far as the user
is concerned they are still interacting with the DateInput. Please keep this in mind when
triggering form validation after an onBlur event.

Make sure to pass the `onBlur` prop to the input via `textInputProps`.

<Canvas of={Stories.InputBlurEvent} />

## Component Design Tokens

This component shares component design tokens with all form controls. For a complete list of tokens, see the [Theming Form Controls documentation](/docs/theming-form-controls--custom-theme-form).
